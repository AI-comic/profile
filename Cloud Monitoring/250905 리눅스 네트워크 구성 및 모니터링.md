## 네트워크 기본 개념
리눅스 서버는 **네트워크 인터페이스(NIC)** 를 통해 외부와 통신함.
- 주요 네트워크 설정 요소
  - **IP 주소**: 호스트 식별  
  - **Netmask**: 네트워크 범위  
  - **Gateway**: 외부 통신 경로  
  - **DNS**: 도메인 이름 해석  


## AWS Linux (Amazon Linux 2) 네트워크 설정 확인

| command | 의미 | Format | Examples |
|---------|------|--------|----------|
| `ip addr` | IP 주소 확인 | `ip addr show` | `ip addr show` |
| `ip route` | 라우팅 테이블 확인 | `ip route` | `ip route` |
| `nmcli` | 네트워크 매니저 CLI | `nmcli [options]` | `nmcli dev status` |
| `ping` | 네트워크 연결 확인 | `ping host` | `ping -c 4 google.com` |
| `curl` / `wget` | 웹 서비스 응답 확인 | `curl URL` | `curl -I http://example.com` |
| `ss` | 포트/소켓 상태 확인 | `ss -tulnp` | `ss -tulnp` |
| `tcpdump` | 패킷 캡처 (root 권한 필요) | `tcpdump [options]` | `sudo tcpdump -i eth0 port 80` |

```
# IP 주소 및 네트워크 인터페이스 확인
ip addr show

# 라우팅 테이블 확인
ip route

# DNS 확인
cat /etc/resolv.conf

# 네트워크 매니저 상태 확인
nmcli device status
```

- 네트워크 설정 변경 (고정 IP 예시)

Amazon Linux는 NetworkManager 또는 /etc/sysconfig/network-scripts/ifcfg-eth0 파일을 수정해야 함.
```
sudo vi /etc/sysconfig/network-scripts/ifcfg-eth0

BOOTPROTO=static
ONBOOT=yes
IPADDR=10.0.1.50
NETMASK=255.255.255.0
GATEWAY=10.0.1.1
DNS1=8.8.8.8
DNS2=1.1.1.1

# 변경 사항 적용
sudo systemctl restart network
```

## Ubuntu (20.04 이상) 네트워크 설정 확인
| command         | 의미              | Format              | Examples                       |
| --------------- | --------------- | ------------------- | ------------------------------ |
| `ip addr`       | IP 주소 확인        | `ip addr show`      | `ip addr show`                 |
| `ip route`      | 라우팅 테이블 확인      | `ip route`          | `ip route`                     |
| `ping`          | 네트워크 연결 확인      | `ping host`         | `ping -c 4 google.com`         |
| `curl` / `wget` | 웹 서비스 응답 확인     | `curl URL`          | `curl -I http://example.com`   |
| `ss`            | 포트/소켓 상태 확인     | `ss -tulnp`         | `ss -tulnp`                    |
| `tcpdump`       | 패킷 캡처 (root 필요) | `tcpdump [options]` | `sudo tcpdump -i eth0 port 80` |
```
# IP 주소 및 네트워크 인터페이스 확인
ip addr show

# 라우팅 테이블 확인
ip route

# DNS 확인
cat /etc/resolv.conf
```

- 네트워크 설정 변경 (netplan 사용)
  - Ubuntu 18.04 이상은 netplan 으로 네트워크 설정을 관리.
```
sudo vi /etc/netplan/01-netcfg.yaml

network:
  version: 2
  ethernets:
    ens33:
      dhcp4: no
      addresses:
        - 10.0.1.60/24
      gateway4: 10.0.1.1
      nameservers:
        addresses: [8.8.8.8, 1.1.1.1]

# 변경 사항 적용
sudo netplan apply
```

## 네트워크 모니터링 (AWS Linux & Ubuntu 공통)

```
# ping 으로 네트워크 연결 확인
ping -c 4 google.com

# curl 로 웹 서비스 상태 확인
curl -I http://example.com

# 열려있는 포트 확인
sudo ss -tulnp

# 실시간 패킷 캡처 (Ctrl+C 종료)
sudo tcpdump -i eth0
```
