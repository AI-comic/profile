## 계정 정보
- **root 계정**: `uid 0`, `gid 0`
- **System Account**: 1 ~ 999
  - **Login 제한된 계정**: 로그인 쉘을 `/bin/false` 로 지정
- **User Account**: 1000 ~ 60000
  - 사용자 계정
  - userid/groupid  1000 1000 UPG(user private group) - rw-rw-r--

## 주요 파일
- `/etc/passwd` : 로그인 계정 정보
- `/etc/shadow` : 계정 사용자의 암호 정보
- `/etc/group` : 그룹 정보

## 명령어
- 계정 관리: useradd, userdel, usermod
```
useradd [options] LOGIN

Options:
  -c, --comment COMMENT         GECOS field of the new account
  -d, --home-dir HOME_DIR       home directory of the new account
  -e, --expiredate EXPIRE_DATE  expiration date of the new account
  -f, --inactive INACTIVE       password inactivity period of the new account
  -g, --gid GROUP               name or ID of the primary group of the new
                                account
  -G, --groups GROUPS           list of supplementary groups of the new
                                account
  -m, --create-home             create the user's home directory
  -o, --non-unique              allow to create users with duplicate
                                (non-unique) UID
  -p, --password PASSWORD       encrypted password of the new account
  -r, --system                  create a system account
  -s, --shell SHELL             login shell of the new account
  -u, --uid UID                 user ID of the new account
  
  
  useradd smlee
  /home/smlee  /bin/bash
  useradd -u 0 -r -o manager
  groupadd -g 5000 project
  useradd -G project user4
```
- 그룹관리: groupadd, groupdel, groupmod
```
grupadd -g 2000 migops
useradd -G migops -e 2024-06-30 -s /bin/tcsh user1
useradd -G migops user2
passwd user2
chage -d 0 user2
```
- 패스워드 관리: passwd, chage
```
bash
passwd username
chage -s ec2-user
```

## 리눅스 계정 및 그룹 관리
- 계정 및 그룹 정보 확인
```
# 계정 정보 파일
cat /etc/passwd | head -5

# 패스워드 암호화 정보
sudo cat /etc/shadow | head -5

# 그룹 정보 확인
cat /etc/group | head -5
```
- 사용자 생성 (useradd)
```
# smlee 사용자 생성 (홈디렉토리 포함)
sudo useradd -m smlee

# 로그인 쉘 지정 (/bin/bash)
sudo useradd -m -s /bin/bash devuser

# 특정 UID, GID 할당
sudo useradd -u 1500 -g 1500 customuser
```
- 그룹 생성 및 사용자 그룹 추가
```
# 그룹 생성
sudo groupadd project

# user1을 project 그룹에 추가
sudo useradd -m -G project user1

# user2 생성 후 그룹 추가
sudo useradd -m user2
sudo usermod -aG project user2
```
- 비밀번호 설정 및 관리 (passwd, chage)
```
# user1 비밀번호 설정
sudo passwd user1

# user2 비밀번호 강제 초기화 (다음 로그인 시 변경)
sudo passwd -e user2

# 비밀번호 만료 정책 확인
sudo chage -l user2
```
- 계정 삭제 및 만료
```
# user1 계정 삭제 (홈디렉토리 유지)
sudo userdel user1

# user2 계정 삭제 (홈디렉토리 포함)
sudo userdel -r user2

# 특정 날짜까지 user3 계정 사용 가능
sudo useradd -m -e 2025-12-31 user3
```
